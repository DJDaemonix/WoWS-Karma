@namespace WowsKarma.Web.Shared
@inherits ComponentBase
@inject AuthenticationStateProvider AuthenticationStateProvider

@using System.Security.Claims;

<AuthorizeView>
	<Authorized>
		@{AccountListingDTO account = GetAccountInfoFromOidcUrl(context.User.FindFirst(ClaimTypes.NameIdentifier).Value);}

		<ul class="navbar-nav">
			<li class="navbar-text text-light">Welcome, @account.Username.&emsp;</li>
			<li class="nav-item"><NavLink class="nav-link text-white" href="@($"player/{account.AccountId},{account.Username}")">Profile</NavLink></li>
			<li class="nav-item"><NavLink class="nav-link text-white" href="logout">Logout</NavLink></li>
		</ul>
	</Authorized>
	<NotAuthorized>
		<ul class="navbar-nav">
			<li class="nav-item"><NavLink class="nav-link text-white" href="login">Login</NavLink></li>
		</ul>
	</NotAuthorized>
</AuthorizeView>